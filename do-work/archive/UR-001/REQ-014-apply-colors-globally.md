---
id: REQ-014
title: "Apply new color palette globally"
status: completed
claimed_at: 2026-02-05T16:16:00-08:00
route: C
completed_at: 2026-02-05T16:29:00-08:00
created_at: 2026-02-05T15:30:00-08:00
user_request: UR-001
source_step: "4.1"
source_doc: "docs/v2-upgrade-TODO.md"
blueprint_ref: "docs/v2-upgrade-BLUEPRINT.md"
model_hint: "Opus 4.5"
batch: "v2-upgrade-phase-4"
related: [REQ-015]
---

# Apply new color palette globally (Step 4.1)

## What
Update all components across the site to use the new color tokens defined in Phase 0.1, ensuring consistent usage in header, footer, cards, CTAs, and text. Verify dark mode still works.

## Checklist
- [ ] **[Opus 4.5]** Update Header colors
- [ ] **[Opus 4.5]** Update Footer colors
- [ ] **[Opus 4.5]** Update card/surface colors
- [ ] **[Opus 4.5]** Update CTA/button colors
- [ ] **[Opus 4.5]** Update text colors (primary, secondary, muted)
- [ ] **[Gemini 3 Pro]** TEST: Visual inspection of all pages
- [ ] **[Gemini 3 Pro]** TEST: Dark mode verification

## Blueprint Guidance
### 4.1 Apply new color palette globally

- **Goal**: Update all components to use new color tokens
- **Acceptance criteria**:
  - Consistent color usage across site
  - Warmer feel achieved
  - Dark mode still works
- **Test plan**: Visual inspection of all pages
- **Prompt**:

```text
Apply the new color palette defined in Phase 0.1 across all components:

- Header: Update background and text colors
- Footer: Update to match
- Cards/surfaces: Use secondary color
- CTAs/buttons: Use accent color
- Text: Use text-primary, text-secondary, text-muted appropriately

Test on multiple pages and in dark mode.
```

## Context
- **Document set**: v2-upgrade
- **Phase**: 4 — Styling Polish
- **Specification**: See docs/v2-upgrade-SPECIFICATION.md for full requirements
- **Model recommendation**: Opus 4.5 (advisory — use if your tool supports model selection)

## Dependencies
Depends on REQ-001 (color palette must be defined first). All Phase 0-3 content should exist before applying global styling.

---
*Source: docs/v2-upgrade-TODO.md, Step 4.1*

---

## Triage

**Route: C** - Complex

**Reasoning:** Global color palette change touching multiple components across the entire site. Needs planning to understand the color tokens, which components to update, and how to maintain dark mode compatibility.

**Planning:** Required

## Plan

### Color Token Mapping
Replace hardcoded zinc/blue/purple classes with semantic tokens from globals.css:
- `bg-white dark:bg-zinc-950` → `bg-primary`
- `bg-zinc-50/bg-white dark:bg-zinc-900` → `bg-secondary`
- `text-zinc-900 dark:text-zinc-50` → `text-text-primary`
- `text-zinc-600 dark:text-zinc-400` → `text-text-secondary`
- `text-zinc-500 dark:text-zinc-400` → `text-text-muted`
- `border-zinc-200 dark:border-zinc-800` → `border-border`
- `text-blue-600/purple-600` → `text-accent`
- `bg-purple-600 hover:bg-purple-500` → `bg-accent hover:bg-accent-hover`

### Files to Modify (10 files)
1. globals.css — body element
2. Header.tsx — nav backgrounds, text, hovers, dropdowns
3. Footer.tsx — background, text
4. page.tsx (home) — all sections
5. ToolPreview.tsx — card, hover, CTA
6. ToolGate.tsx — spinner, links (keep red for errors)
7. explorations/page.tsx — hub cards
8. photo-fun/page.tsx — purple→cyan, cards, text
9. explorations/tensor-logic/page.tsx — purple→cyan, cards, text
10. tools/page.tsx — cards, text

### Dark Mode
Tokens auto-switch via CSS custom properties. No dark: prefix needed with semantic tokens.

### Edge Cases
- Keep red error states in ToolGate as-is
- Purple→Cyan conversion unifies the palette per spec

*Generated by Plan agent*

## Exploration

Covered in Plan phase — all files identified and color mappings determined.

*Merged with Plan phase*

## Implementation Summary

16 files modified to replace hardcoded zinc/blue/purple Tailwind classes with semantic color tokens:
- globals.css — body element uses `bg-primary text-text-primary`
- Header.tsx — nav backgrounds, text, hovers, dropdowns, mobile menu
- Footer.tsx — background, text, links
- page.tsx (home) — all sections: hero, tools, dance menu, photo fun, song dedication, explorations
- ToolPreview.tsx — card container, title hover, description
- ToolGate.tsx — spinner, loading text, refresh link (red errors kept as-is)
- explorations/page.tsx — hub cards
- photo-fun/page.tsx — purple→cyan conversion, all sections
- tensor-logic/page.tsx — purple→cyan conversion, all sections
- tools/page.tsx — cards, text
- 4 exploration subpages — headings and descriptions
- dance-menu/page.tsx — headings, spinners, cards, buttons, content container
- song-dedication/page.tsx — all sections, links, audio, lyrics

*Completed by work action (Route C)*

## Testing

**Tests run:** `npx vitest run`
**Result:** 35/38 test files pass, 1225 tests pass. 3 pre-existing failures (unrelated to color changes).

**No new failures introduced.**

*Verified by work action*
