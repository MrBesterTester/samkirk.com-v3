---
id: REQ-084
title: Persistent toolbar actions, remove quick-action modality
status: completed
created_at: 2026-02-14T22:00:00Z
user_request: UR-022
claimed_at: 2026-02-14T22:01:00Z
route: B
completed_at: 2026-02-14T22:18:00Z
---

# Persistent Toolbar Actions, Remove Quick-Action Modality

## What
Move "Analyze My Fit" and "Generate Resume" into the persistent actions bar (top strip) so they're always available when a job is loaded and no flow is active. Remove the empty-state-only quick action chips from ChatStream. Simplify the "New Conversation" button to a small reset/clear icon instead of a labeled button.

## Context
Currently, quick action buttons only appear when `messages.length === 0 && jobLoaded && !flowActive`. After running one tool (e.g., fit analysis), the user must click "New Conversation" to reset messages to zero before they can access the second tool. This is inconvenient modality — the natural flow is to run both tools sequentially on the same job.

Key files:
- `web/src/app/hire-me/page.tsx` — actions bar (lines 59-108), ChatStream props (lines 113-121)
- `web/src/components/hire-me/ChatStream.tsx` — quick action chips (lines 340-363)
- `web/src/hooks/useHireMe.ts` — `triggerFit`, `triggerResume`, `flowActive`, `newConversation`

## Requirements
1. Add "Analyze My Fit" and "Generate Resume" buttons to the actions bar (the top strip that already holds download buttons and "New Conversation")
2. Show these buttons when `jobLoaded && !flowActive` — independent of message count
3. Remove the suggestion chips block from ChatStream (lines 340-363) and the `onPreset` prop
4. Replace the labeled "New Conversation" button with a small icon-only reset button (e.g., refresh/reset icon) with a tooltip. Keep the `newConversation` handler as-is.

---
*Source: Option 2: Move "Analyze My Fit" and "Generate Resume" into the persistent actions bar (top strip) so they're always available when a job is loaded and no flow is active. Remove the empty-state-only quick action chips from ChatStream. Simplify the "New Conversation" button to a small reset/clear icon instead of a labeled button, since it's no longer the gateway to re-accessing tools.*

---

## Triage

**Route: B** - Medium

**Reasoning:** Well-specified request with named files and line numbers, but need to explore existing button patterns, icon usage, and the actions bar layout to match conventions.

**Planning:** Not required

## Plan

**Planning not required** - Route B: Exploration-guided implementation

Rationale: Clear feature request with specific files and line numbers. Need to discover existing button/icon patterns in the actions bar to match styling.

*Skipped by work action*

## Exploration

- **Actions bar** (`page.tsx` lines 59-108): Flexbox strip with download buttons + "New Conversation". Only renders when `state.downloads.length > 0 || state.messages.length > 0`. Buttons use `inline-flex items-center gap-1.5 rounded-lg border border-zinc-300 bg-white px-2 py-1 text-xs font-medium` styling.
- **No icon library** — all icons are hand-coded inline SVGs (`h-3.5 w-3.5`, stroke-based, `viewBox="0 0 24 24"`). Current plus icon used for "New Conversation".
- **Quick action chips** (`ChatStream.tsx` lines 340-363): Render when `messages.length === 0 && jobLoaded && !flowActive && onPreset`. Two buttons: "Analyze My Fit" calls `onPreset("fit")`, "Generate Resume" calls `onPreset("resume")`.
- **ChatStreamProps**: `onPreset?: (preset: "fit" | "resume") => void`, `jobLoaded?: boolean`, `flowActive?: boolean` — all three can be removed from the interface.
- **handlePreset** (`page.tsx` lines 24-30): Maps `"fit"` → `triggerFit()`, `"resume"` → `triggerResume()`. Can be removed; call `triggerFit`/`triggerResume` directly from new buttons.
- **`newConversation()`**: Clears messages and flow states but preserves jobContext and downloads. Safe to call at any time.
- **Visibility logic change**: Actions bar currently requires `state.downloads.length > 0 || state.messages.length > 0`. New buttons need it visible when `jobLoaded` too.

*Generated by Explore agent*

## Implementation Summary

- **page.tsx**: Removed `handlePreset` helper. Added "Analyze My Fit" (sparkle icon) and "Generate Resume" (document icon) buttons to actions bar with blue/primary styling, visible when `jobLoaded && !flowActive`. Replaced labeled "New Conversation" button with icon-only reset button (refresh icon, `title` tooltip). Updated bar visibility: now shows when `jobLoaded` too. Removed `onPreset`, `jobLoaded`, `flowActive` props from ChatStream usage.
- **ChatStream.tsx**: Removed `onPreset`, `jobLoaded`, `flowActive` from `ChatStreamProps` interface and component destructuring. Removed entire quick-action chips block (label + two buttons).

*Completed by work action (Route B)*

## Testing

**Tests run:** `npx vitest run`
**Result:** All 1254 tests passing (38 test files)

**No hire-me specific test files exist.** Changes are UI-only (button placement, prop removal) with no logic changes to hook behavior.

*Verified by work action*
